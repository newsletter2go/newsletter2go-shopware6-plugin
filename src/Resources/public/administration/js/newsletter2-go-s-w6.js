!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/bundles/newsletter2gosw6/",t(t.s="21jr")}({"0eZk":function(e,n){e.exports='{% block newsletter2go_index %}\n<sw-page class="newsletter2go">\n\n    {# header start #}\n    {% block newsletter2go_index_header %}\n    <template slot="smart-bar-header">\n        <h2> {{ $tc(\'newsletter2go.general.mainHeader\') }}</h2>\n    </template>\n    {% endblock %}\n    {# header start #}\n\n    {# buttons bar start#}\n    {% block newsletter2go_index_actions %}\n<template slot="smart-bar-actions">\n\n    {# save button start#}\n        {% block newsletter2go_save_button %}\n            <sw-button variant="primary"\n                       @click="onSave"\n                       :disabled="!isConnected">\n                {{ $tc(\'newsletter2go.settingForm.buttonLabelSave\') }}\n            </sw-button>\n        {% endblock %}\n    {# save button end#}\n\n</template>\n    {% endblock %}\n    {# buttons bar end#}\n\n    {# content start #}\n    {% block newsletter2go_index_content %}\n    <sw-card-view slot="content">\n\n        {# deletation dialog start #}\n        <sw-modal :title="$tc(\'newsletter2go.settingForm.titleDisconnectDialog\')"\n                  v-if="isDisconnectDialogVisible"\n                  selector=".panel--content"\n                  @mousedown="closeDisconnectDialog"\n                  @keyup.esc="closeDisconnectDialog"\n                  @modal-close="closeDisconnectDialog">\n\n            <sw-container rows="1fr 1fr">\n                <div>{{ $tc(\'newsletter2go.settingForm.messageDisconnectDialog\') }}</div>\n\n                <div>\n                    <sw-container columns="1fr 1fr" align="center center" justify="center">\n                        <div>\n                            <sw-button variant="danger" @click="disconnect">\n                                {{ $tc(\'newsletter2go.settingForm.buttonLabelConfirm\') }}\n                            </sw-button>\n                        </div>\n\n                        <div>\n                            <sw-button @click="closeDisconnectDialog">\n                                {{ $tc(\'newsletter2go.settingForm.buttonLabelCancel\') }}\n                            </sw-button>\n                        </div>\n                    </sw-container>\n                </div>\n            </sw-container>\n\n        </sw-modal>\n        {# deletation dialog end #}\n\n        {% block newsletter2go_account_configuration %}\n        <sw-card :title="$tc(\'newsletter2go.general.accountConfigurationTitle\')" :isLoading="isLoading">\n\n            <sw-container columns="2fr 1fr">\n                <div style="line-height: 34px;padding: 2px 24px;">\n                    <sw-icon :name="setting.connectionIconName" :color="setting.connectionIconColor"></sw-icon>\n                    {{ setting.connectionMessage }}\n                </div>\n                <div>\n                    {# connect button start#}\n                    {% block newsletter2go_connect_button %}\n                        <sw-button v-if="displayConnectButton"\n                                   variant="primary"\n                                   :link="setting.connectLink">\n                            {{ $tc(\'newsletter2go.settingForm.connectButton\') }}\n                        </sw-button>\n                        {% endblock %}\n                        {# connect button end #}\n\n                        {# disconnect button start#}\n                        {% block newsletter2go_disconnect_button %}\n                        <sw-button v-if="isConnected"\n                                   variant="danger"\n                                   @click="viewDisconnectDialog">\n                            {{ $tc(\'newsletter2go.settingForm.disconnectButton\') }}\n                        </sw-button>\n\n                        <sw-button v-if="isConnected" :disabled="false" :square="false" :block="false"\n                                   link="https://ui.newsletter2go.com/integrations" :isLoading="false">\n                            settings\n                        </sw-button>\n                    {% endblock %}\n                    {# disconnect button end#}\n\n                </div>\n            </sw-container>\n\n        </sw-card>\n        {% endblock %}\n\n        {#  conversion tracking start  #}\n        {% block newsletter2go_conversion_tracking %}\n            <sw-card :title="$tc(\'newsletter2go.general.conversionTrackingTitle\')" >\n                <sw-switch-field :label="$tc(\'newsletter2go.settingForm.conversionTrackingSwitch\')"\n                                 v-model="setting.conversionTracking"\n                                 :disabled="!isConnected">\n                </sw-switch-field>\n            </sw-card>\n        {% endblock %}\n        {#  conversion tracking end  #}\n\n    </sw-card-view>\n\n    {% endblock %}\n    {# content end #}\n</sw-page>\n{% endblock %}\n'},"21jr":function(e,n,t){"use strict";t.r(n);var o=t("0eZk"),i=t.n(o),r=Shopware.Mixin;Shopware.Component.register("newsletter2go-index",{template:i.a,inject:["ConversionTrackingService","ConnectionService"],mixins:[r.getByName("notification")],data:function(){return{setting:{connectionMessage:"",connectionIconName:"",connectionIconColor:""},companyId:"",isConnected:!0,isLoading:!0,isAccountConfigLoading:!0,isDisconnectDialogVisible:!1,displayConnectButton:!1}},created:function(){this.createdComponent(),this.testConnection()},computed:{},methods:{createdComponent:function(){var e=this;this.ConnectionService.getIntegrationLink().then((function(n){e.setting.connectLink=n.integration})),this.ConversionTrackingService.getValue().then((function(n){e.setting.conversionTracking=n.conversion_tracking,"undefined"!==n.error&&e.createNotificationSuccess({title:e.$tc("newsletter2go.settingForm.titleSaveSuccess"),message:n.error})}))},onSave:function(){var e=this;this.isConnected&&(this.isLoading=!0,this.ConversionTrackingService.updateValue(this.setting.conversionTracking).then((function(n){var t="",o="";"undefined"!==n.error?(t=e.$tc("newsletter2go.settingForm.titleSaveError"),o=n.error):(t=e.$tc("newsletter2go.settingForm.titleSaveSuccess"),o=e.$tc("newsletter2go.settingForm.messageSaveSuccess")),e.createNotificationSuccess({title:t,message:o}),e.isLoading=!1})))},testConnection:function(){var e=this;this.ConnectionService.testConnection().then((function(n){200===n.status?(e.isConnected=!0,e.companyId=n.company_id,e._setConnectionViewSuccessful()):(e.isConnected=!1,e.displayConnectButton=!0,e._setConnectionViewNotConnected(),203!==n.status&&e.createNotificationError({title:e.$tc("newsletter2go.settingForm.titleSaveError"),message:"Status ".concat(n.status,": ").concat(n.error)})),e.isLoading=!1}))},_setConnectionViewSuccessful:function(){this.setting.connectionIconName="default-basic-checkmark-circle",this.setting.connectionIconColor="#65c765",this.setting.connectionMessage=this.$tc("newsletter2go.settingForm.messageConnectedSuccess")+this.companyId},_setConnectionViewNotConnected:function(){this.setting.connectionIconName="default-badge-error",this.setting.connectionIconColor="#f76363",this.setting.connectionMessage=this.$tc("newsletter2go.settingForm.messageConnectedError")},viewDisconnectDialog:function(){console.log("clicked"),this.isDisconnectDialogVisible=!0},closeDisconnectDialog:function(){this.isDisconnectDialogVisible=!1},disconnect:function(){var e=this;this.isLoading=!0,this.isConnected=!1,this.isDisconnectDialogVisible=!1,this.displayConnectButton=!0,this._setConnectionViewNotConnected(),this.ConnectionService.disconnect().then((function(n){200!==n.status&&e.createNotificationSuccess({title:"Code ".concat(n.status),message:e.$tc("newsletter2go.settingForm.titleSaveError")}),e.isLoading=!1}))}},metaInfo:function(){return{title:this.$createTitle()}}});var c=t("GNkK"),s=t.n(c);Shopware.Component.override("sw-settings-index",{template:s.a});var a=t("d2X7"),l=t("WLCP");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=v(e);if(n){var i=v(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return p(this,t)}}function p(e,n){return!n||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Module.register("newsletter2go-app",{type:"plugin",name:"Newsletter2GoSW6",title:"Newsletter2Go",description:"newsletter2go.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"default-action-settings",snippets:{"de-DE":a,"en-GB":l},settingsItem:[{group:"plugins",to:"newsletter2go.app.index",icon:"default-newsletter2go-logo",backgroundEnabled:!0}],routes:{index:{component:"newsletter2go-index",path:"index",meta:{parentPath:"sw.settings.index"}}}});var b=Shopware.Classes.ApiService,w=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}(r,e);var n,t,o,i=h(r);function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n2g";return d(this,r),i.call(this,e,n,t)}return n=r,(t=[{key:"getValue",value:function(){var e="".concat(this.getApiBasePath(),"/tracking");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return b.handleResponse(e)}))}},{key:"updateValue",value:function(e){var n="".concat(this.getApiBasePath(),"/tracking");return this.httpClient.put(n,{conversion_tracking:e},{headers:this.getBasicHeaders()}).then((function(e){return b.handleResponse(e)}))}}])&&g(n.prototype,t),o&&g(n,o),r}(b);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function C(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,n){return(S=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function k(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=D(e);if(n){var i=D(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return _(this,t)}}function _(e,n){return!n||"object"!==m(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=Shopware.Classes.ApiService,O=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&S(e,n)}(r,e);var n,t,o,i=k(r);function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n2g";return y(this,r),i.call(this,e,n,t)}return n=r,(t=[{key:"testConnection",value:function(){var e="".concat(this.getApiBasePath(),"/connection");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return x.handleResponse(e)}))}},{key:"disconnect",value:function(){var e="".concat(this.getApiBasePath(),"/connection");return this.httpClient.delete(e,{headers:this.getBasicHeaders()}).then((function(e){return x.handleResponse(e)}))}},{key:"getIntegrationLink",value:function(){var e="".concat(this.getApiBasePath(),"/integration");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return x.handleResponse(e)}))}}])&&C(n.prototype,t),o&&C(n,o),r}(x),T=Shopware.Application;T.addServiceProvider("ConversionTrackingService",(function(e){var n=T.getContainer("init");return new w(n.httpClient,e.loginService)})),T.addServiceProvider("ConnectionService",(function(e){var n=T.getContainer("init");return new O(n.httpClient,e.loginService)}))},GNkK:function(e,n){e.exports='{% block sw_settings_content_card_slot_plugins %}\n    {% parent %}\n\n    {% block sw_settings_newsletter2go_item %}\n        <sw-settings-item :label="$tc(\'newsletter2go.general.mainMenuItemGeneral\')"\n                          :to="{ name: \'newsletter2go.app.index\' }"\n                          :backgroundEnabled="false">\n            <template slot="icon">\n                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"  viewBox="0 110 750 300">\n                    <rect style="fill: #00baff;" width="600" height="600"/>\n                    <path style="fill: none;" d="M310.48,347.8c.45.31.9.6,1.35.88C311.38,348.4,310.93,348.1,310.48,347.8Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path style="fill: #3d3d3d;"\n                          d="M310.48,347.8C292.07,335.7,278,315,275.22,305.34h0c.68,3.86-10.06,52.36-15.67,62.49-16.35-6.07-30.47-2.07-44.59-4.22-12.88-2-23.39-4.73-26.69-8.85-8-8-13.93-12.08-24-12.08,0,0-9.45-.52-12.44,11.56-2.5,10.08-7.83,60.09,2.29,74.54,2,2,9.13,3.13,9.77-4.7.73-8.77,10.85-35.36,17-37.22a15.23,15.23,0,0,1,3.87-.9c22.92-3.22,80.8,23.77,92.25,21.14,7-1.6,24.95-30.38,35.43-58l-.61-.4C311.38,348.4,310.93,348.11,310.48,347.8Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path style="fill: #3d3d3d;" d="M311.83,348.68l.61.4h0Z" transform="translate(6.37 2.47)"/>\n                    <path style="fill: none;"\n                          d="M276.29,306.35c-.36-.36-.72-.73-1.05-1.1C275.57,305.62,275.92,306,276.29,306.35Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path style="fill: none;" d="M277.09,307.1l.32.3Z" transform="translate(6.37 2.47)"/>\n                    <path style="fill: #3d3d3d;" d="M275.18,305.18l.06.07Z" transform="translate(6.37 2.47)"/>\n                    <path style="fill: #3d3d3d;" d="M277.09,307.1l-.8-.75Z" transform="translate(6.37 2.47)"/>\n                    <rect style="fill: #3d3d3d;" x="315.61" y="416.13" width="2.76" height="39.61"\n                          transform="translate(-203.62 551.61) rotate(-66.1)"/>\n                    <rect style="fill: #3d3d3d;" x="317.21" y="429.33" width="2.76" height="29.91"\n                          transform="translate(-210.3 558.05) rotate(-66.1)"/>\n                    <rect style="fill: #3d3d3d;" x="318.18" y="441.55" width="2.76" height="21.6"\n                          transform="matrix(0.41, -0.91, 0.91, 0.41, -217.09, 563.73)"/>\n                    <rect style="fill: #3d3d3d;" x="124.37" y="316.72" width="2.76" height="39.61"\n                          transform="translate(-226.6 358.47) rotate(-72.62)"/>\n                    <rect style="fill: #3d3d3d;" x="126.92" y="329.68" width="2.76" height="29.91"\n                          transform="translate(-232.56 366.58) rotate(-72.62)"/>\n                    <rect style="fill: #3d3d3d;" x="128.79" y="341.73" width="2.76" height="21.6"\n                          transform="translate(-238.78 373.91) rotate(-72.62)"/>\n                    <path style="fill: #3d3d3d;"\n                          d="M422.11,456.74c-8.8,0-35.15-7.46-37.51-13.48a66.34,66.34,0,0,0,2.41-6.68c1.25-4.29,21.65-62.62,26.3-84.24,3.11-10.88,5.35-20.73-1.39-33.48-3.25-6.16-11.39-12.75-21.3-18.93-4.39-2.81-8.89-5.43-13.46-7.85,9.13-18.57,73-157.12,67.83-173.88-4.35-14-91.56-51.55-103.22-47.13s-92.8,180.8-88.26,189.4,14.75,12.22,14.75,12.22c-4.83,13.95-.49,24.1,6.9,32.48h0l.06.07c.33.37.69.74,1.05,1.1l.8.75.32.3c9.08,8,27.29,14.57,36.41,17.49l.12,0c2.75.88,4.65,1.42,5.2,1.56h0v0c7.53,2.23,13.17,3.55,14.06,3.75,8.46,1.94,28.46,4.3,38.38,8a43.33,43.33,0,0,1,4.5,2s.26.94-2.13,5.12c-7.12,18.18,2.36,51.33-22.63,92.09,0,0-11.33,17.27-12.13,25.83,0,0-.42,8.93,11.86,10.93,10.25,1.66,63,3.1,76.56-8.17C429.38,464,430,456.75,422.11,456.74Zm-53.19-178.1c-3.36,5.56-12.46,3.44-17.27,1.84a304.67,304.67,0,0,0-52.77-15.28v0c-4.69-1-8.87-1.75-12.19-2.39-10.92-2.11-17.31-1.89-19.36-6.54s72.33-170.72,79.62-171.5,79.92,32.45,83.46,40.74C433.23,132.16,384.66,251,369.92,277,369.6,277.54,369.27,278.06,368.92,278.64Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path d="M275.24,305.25s0,0,0,.09h0C278,315,292.07,335.7,310.48,347.8c.45.3.9.6,1.35.88l.61.4h0l0,0a143.09,143.09,0,0,0,6.64-22.57C317.17,325.84,286.29,317.24,275.24,305.25Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path style="fill: #fff;"\n                          d="M430.4,125.53c-3.54-8.29-76.17-41.53-83.46-40.74s-81.66,166.85-79.62,171.5,8.44,4.43,19.36,6.54c3.32.64,7.5,1.43,12.19,2.39v0a304.67,304.67,0,0,1,52.77,15.28c4.81,1.6,13.91,3.72,17.27-1.84.35-.58.68-1.1,1-1.6C384.66,251,433.23,132.16,430.4,125.53ZM388.47,184c-2.39,8.64-84.21,61.29-88.84,64.22-4.21,2.67-6.55,3-8.62,3a5.55,5.55,0,0,1-1.63-.17c0-.25,1.06-1,1.93-1.71,62.28-48.45,71.71-56.89,77-71.07,5-13.43-7.25-64.39-9.1-72.7a2.51,2.51,0,0,1-.05-1.41,1.21,1.21,0,0,1,.71-.81,1.15,1.15,0,0,1,1.34.3,3.41,3.41,0,0,1,.6,1C366.39,113.81,390.77,175.75,388.47,184Z"\n                          transform="translate(6.37 2.47)"/>\n                    <path style="fill: #3d3d3d;"\n                          d="M361.17,103.72a1.15,1.15,0,0,0-1.34-.3,1.21,1.21,0,0,0-.71.81,2.51,2.51,0,0,0,.05,1.41c1.85,8.31,14.07,59.27,9.1,72.7-5.25,14.18-14.68,22.62-77,71.07-.87.67-1.93,1.46-1.93,1.71a5.55,5.55,0,0,0,1.63.17c2.07,0,4.41-.38,8.62-3,4.63-2.93,86.45-55.58,88.84-64.22,2.3-8.27-22.08-70.21-26.7-79.33A3.41,3.41,0,0,0,361.17,103.72Z"\n                          transform="translate(6.37 2.47)"/>\n                </svg>\n            </template>\n        </sw-settings-item>\n    {% endblock %}\n{% endblock %}\n'},WLCP:function(e){e.exports=JSON.parse('{"newsletter2go":{"header":"Newsletter2Go","general":{"mainMenuItemGeneral":"Newsletter2Go","mainHeader":"Newsletter2Go Settings","accountConfigurationTitle":"Account Settings","conversionTrackingTitle":"Conversion-Tracking"},"settingForm":{"connectButton":"Connect to Newsletter2Go","disconnectButton":"Disconnect","conversionTrackingSwitch":"Activate","buttonLabelSave":"Save","buttonLabelConfirm":"Confirm","buttonLabelCancel":"Cancel","titleSaveSuccess":"Settings","titleSaveError":"Settings Error","titleDisconnectDialog":"Disconnect","messageDisconnectDialog":"Do you really want to disconnect?","messageSaveSuccess":"Settings saved successfully","messageSaveError":"Settings are not saved","messageConnectedSuccess":"Connected successfully with company ID: ","messageConnectedError":"Not connected"}}}')},d2X7:function(e){e.exports=JSON.parse('{"newsletter2go":{"header":"Newsletter2Go","general":{"mainMenuItemGeneral":"Newsletter2Go","mainHeader":"Einstellungen für Newsletter2Go","accountConfigurationTitle":"Account Einstellungen","conversionTrackingTitle":"Conversion-Tracking"},"settingForm":{"connectButton":"Mit Newsletter2Go verbinden","disconnectButton":"Verbindung trennen","conversionTrackingSwitch":"Aktivieren","buttonLabelSave":"Speichern","buttonLabelConfirm":"Bestätigen","buttonLabelCancel":"Abbrechen","titleSaveSuccess":"Einstellungen","titleSaveError":"Einstellungen Fehler","titleDisconnectDialog":"Verbindung Trennenung","messageDisconnectDialog":"Wollen Sie wirklich die Verbindung trennen?","messageSaveSuccess":"Die Einstellungen wurden erfolgreich gespeichert","messageSaveError":"Die Einstellungen konnten nicht gespeichert werden","messageConnectedSuccess":"Erfolgreich verbunden. Company ID: ","messageConnectedError":"Nicht verbunden"}}}')}});